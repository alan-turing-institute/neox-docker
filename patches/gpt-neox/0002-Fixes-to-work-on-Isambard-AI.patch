From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: David Llewellyn-Jones <dllewellyn-jones@turing.ac.uk>
Date: Wed, 16 Oct 2024 16:29:42 +0100
Subject: [PATCH] Fixes to work on Isambard-AI

Small changes to the build configuration to allow the code to run using
the nvcr.io/nvidia/pytorch:22.12-py3 image on Isambard-AI.
---
 requirements/requirements-onebitadam.txt | 2 +-
 requirements/requirements.txt            | 4 +++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/requirements/requirements-onebitadam.txt b/requirements/requirements-onebitadam.txt
index a6dd402b..20feb590 100644
--- a/requirements/requirements-onebitadam.txt
+++ b/requirements/requirements-onebitadam.txt
@@ -1 +1 @@
-cupy-cuda111==8.6.0
+cupy-cuda11x==12.3.0
diff --git a/requirements/requirements.txt b/requirements/requirements.txt
index ba267ec4..a1c66c64 100644
--- a/requirements/requirements.txt
+++ b/requirements/requirements.txt
@@ -10,7 +10,9 @@ pybind11==2.6.2
 regex
 sentencepiece
 six
-tiktoken==0.1.2
+tiktoken==0.4.0
 tokenizers==0.12.1
 transformers~=4.24.0
 wandb==0.10.28
+best-download==0.1.2
+protobuf==3.20.1
